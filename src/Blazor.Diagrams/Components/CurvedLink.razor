@inherits LinkWidgetBaseComponent

<g>
    <path d="@GenerateCurvedPath()" stroke-width="3" fill="none" stroke="black" />
</g>

@code {

    private string GenerateCurvedPath()
    {
        var sX = Link.SourcePort.Position.X + (Link.SourcePort.Size.Width / 2);
        var sY = Link.SourcePort.Position.Y + (Link.SourcePort.Size.Height / 2);
        double tX, tY;

        if (Link.IsAttached)
        {
            tX = Link.TargetPort.Position.X + (Link.TargetPort.Size.Width / 2);
            tY = Link.TargetPort.Position.Y + (Link.TargetPort.Size.Height / 2);
        }
        else
        {
            tX = Link.OnGoingPosition.X;
            tY = Link.OnGoingPosition.Y;
        }

        Console.WriteLine("{0} {1}", tX, tY);

        var dist = Math.Abs(sX - tX);
        return $"M {sX} {sY} C {sX + (dist / 2)} {sY}, {tX - (dist / 2)} {tY}, {tX} {tY}";
    }

}
